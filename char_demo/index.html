<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <title>Title</title>
</head>
<body>
    <input type="file" name="image" id="uploadFile" style="display:none;">
    <input type="hidden" name="img">
    <button type="button" class="beatiful" id="uploadBtn">上传图片</button>
    <img id="imgId" src="" width="200">
</body>
<script>
        //因为html自带的图片上传贼丑，所以这里用按钮来代替。
    $('#uploadBtn').click(function() {
        $('#uploadFile').click()
        //当图片选中后，会触发name=file文本的change事件
        $('#uploadFile').change(function() {
            var formData = new FormData();
            var reader = new FileReader();
            reader.readAsDataURL(this.files[0]);
            reader.onload = function(e) {
                var b64 = this.result;
                $.ajax({
                    url: 'http://127.0.0.1:8080/img/addImg',
                    type: 'POST',
                    data: {"image": b64},
                    success: function(res) {
                        $("#imgId").attr('src',res.result);
                    }
                })
            }
        })
    })

</script>
</html>